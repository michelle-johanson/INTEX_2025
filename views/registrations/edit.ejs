<div class="page-container">

    <h1 class="page-title">Edit Registration</h1>

    <form action="/registrations/<%= registration.event_occurrence_id %>/<%= registration.participant_id %>/edit" 
          method="POST" 
          class="form">

        <!-- #TO-DO: create class for info box with background: #f8f9fa; padding: 1rem; border-radius: 4px; -->
        <div class="mb-2">
            <strong>Event:</strong> <%= registration.event_name %><br>
            <strong>Participant:</strong> <%= registration.first_name %> <%= registration.last_name %>
        </div>

        <label for="RegistrationStatus">Status</label>
        <select id="RegistrationStatus" name="RegistrationStatus">
            <option value="Registered" <%= registration.status === 'Registered' ? 'selected' : '' %>>Registered</option>
            <option value="Waitlist" <%= registration.status === 'Waitlist' ? 'selected' : '' %>>Waitlist</option>
            <option value="Cancelled" <%= registration.status === 'Cancelled' ? 'selected' : '' %>>Cancelled</option>
        </select>

        <!-- #TO-DO: create class for checkbox container with margin: 1rem 0; -->
        <div class="my-2">
            <!-- #TO-DO: create class for inline-flex label with align-items: center; gap: 0.5rem; -->
            <label>
                <!-- #TO-DO: create class for checkbox with width:auto; margin:0; -->
                <input type="checkbox" 
                       name="RegistrationAttendedFlag" 
                       <%= registration.attended ? 'checked' : '' %> />
                Attended Event?
            </label>
        </div>

        <label for="RegistrationCheckInTime">Check-In Time</label>
        <input type="datetime-local" 
               name="RegistrationCheckInTime" 
               value="<%= registration.check_in_time ? new Date(new Date(registration.check_in_time).getTime() - (new Date().getTimezoneOffset() * 60000)).toISOString().slice(0, 16) : '' %>" />

        <!-- #TO-DO: create class for flex container with gap: 1rem; align-items: center; -->
        <div class="d-flex mt-2">
            <button class="btn-submit">Save Changes</button>
            <a href="/registrations/event/<%= registration.event_occurrence_id %>">Cancel</a>
        </div>
    </form>

</div>