<div class="container mt-5" style="max-width: 500px;">
    
    <h1 class="page-title text-center mb-4">Create Participant Account</h1>
    <p class="text-center text-muted">Sign up to view your milestones, surveys, and event registrations.</p>

    <!-- Display General Errors (like email already exists) -->
    <% if (typeof errors !== 'undefined' && errors.general) { %>
        <div class="alert alert-danger mb-3">
            <%= errors.general %>
        </div>
    <% } %>

    <form action="/auth/signup" method="POST" class="form">

        <!-- EMAIL (REQUIRED - NOT NULL in DB) -->
        <label for="email" class="form-label">Email (Used for Login)</label>
        <input type="email" id="email" name="email" 
               class="form-control <%= errors.email ? 'is-invalid' : '' %>" 
               value="<%= formData.email || '' %>"
               required>
        <% if (errors.email) { %><div class="invalid-feedback"><%= errors.email %></div><% } %>

        <!-- FIRST NAME (REQUIRED - NOT NULL in DB) -->
        <label for="first_name" class="form-label mt-3">First Name</label>
        <input type="text" id="first_name" name="first_name" 
               class="form-control" 
               value="<%= formData.first_name || '' %>"
               required>

        <!-- LAST NAME (REQUIRED - NOT NULL in DB) -->
        <label for="last_name" class="form-label mt-3">Last Name</label>
        <input type="text" id="last_name" name="last_name" 
               class="form-control" 
               value="<%= formData.last_name || '' %>"
               required>

        <!-- DATE OF BIRTH -->
        <label for="dob" class="form-label mt-3">Date of Birth</label>
        <input type="date" id="dob" name="dob" 
               class="form-control" 
               value="<%= formData.dob || '' %>">

        <!-- PHONE -->
        <label for="phone" class="form-label mt-3">Phone</label>
        <input type="tel" id="phone" name="phone" 
               class="form-control" 
               value="<%= formData.phone || '' %>">
               
        <!-- CITY -->
        <label for="city" class="form-label mt-3">City</label>
        <input type="text" id="city" name="city" 
               class="form-control" 
               value="<%= formData.city || '' %>">
               
        <!-- STATE -->
        <label for="state" class="form-label mt-3">State</label>
        <input type="text" id="state" name="state" 
               class="form-control" 
               value="<%= formData.state || '' %>">
               
        <!-- ZIP CODE -->
        <label for="zip" class="form-label mt-3">Zip Code</label>
        <input type="text" id="zip" name="zip" 
               class="form-control" 
               value="<%= formData.zip || '' %>">

        <!-- SCHOOL / EMPLOYER -->
        <label for="school_or_employer" class="form-label mt-3">School / Employer</label>
        <input type="text" id="school_or_employer" name="school_or_employer" 
               class="form-control" 
               value="<%= formData.school_or_employer || '' %>">

        <!-- FIELD OF INTEREST -->
        <label for="field_of_interest" class="form-label mt-3">Field of Interest</label>
        <input type="text" id="field_of_interest" name="field_of_interest" 
               class="form-control" 
               value="<%= formData.field_of_interest || '' %>">

        <!-- PASSWORD -->
        <label for="password" class="form-label mt-3">Password</label>
        <input type="password" id="password" name="password" 
               class="form-control <%= errors.password ? 'is-invalid' : '' %>" 
               required>
        <% if (errors.password) { %><div class="invalid-feedback"><%= errors.password %></div><% } %>

        <!-- CONFIRM PASSWORD -->
        <label for="confirm_password" class="form-label mt-3">Confirm Password</label>
        <input type="password" id="confirm_password" name="confirm_password" 
               class="form-control <%= errors.confirm_password ? 'is-invalid' : '' %>" 
               required>
        <% if (errors.confirm_password) { %><div class="invalid-feedback"><%= errors.confirm_password %></div><% } %>

        <button type="submit" class="btn btn-primary w-100 mt-4">Sign Up</button>
        
        <div class="text-center mt-3">
            <a href="/auth/login" class="text-muted" style="font-size: 0.9rem;">&larr; Back to Login</a>
        </div>

    </form>
</div>


