<div class="container mt-4">
    <h1>Edit Event Occurrence</h1>

    <form action="/eventOccurrences/<%= occurrence.occurrence_id %>/edit" method="POST" class="mt-3">

        <label class="form-label">Event</label>
        <select name="EventID" class="form-select" required>
            <% events.forEach(e=> { %>
                <option value="<%= e.event_id %>" <%=e.event_id===occurrence.event_id ? "selected" : "" %>>
                    <%= e.name %> â€” <%= e.event_type %>
                </option>
                <% }) %>
        </select>

        <label class="form-label mt-3">Start Date & Time</label>
        <input type="datetime-local" name="StartsAt" class="form-control"
            value="<%= occurrence.start_datetime.toISOString().slice(0,16) %>" required>

        <label class="form-label mt-3">End Date & Time</label>
        <input type="datetime-local" name="EndsAt" class="form-control"
            value="<%= occurrence.end_datetime ? occurrence.end_datetime.toISOString().slice(0,16) : "" %>">

        <label class="form-label mt-3">Location</label>
        <input type="text" name="Location" class="form-control" value="<%= occurrence.location %>" required>

        <label class="form-label mt-3">Capacity</label>
        <input type="number" min="1" name="Capacity" class="form-control" value="<%= occurrence.capacity %>">

        <label class="form-label mt-3">Registration Deadline</label>
        <input type="date" name="RegDeadline" class="form-control" value="<%= occurrence.registration_deadline 
                        ? occurrence.registration_deadline.toISOString().slice(0,10) 
                        : "" %>">

        <button class="btn btn-primary mt-4">Save Changes</button>
    </form>
</div>