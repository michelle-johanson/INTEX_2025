<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center">
        <h1><%= occurrence.event_name %></h1>

        <% if (session && session.access_level === "admin") { %>
            <a class="btn btn-warning"
                href="/eventOccurrences/<%= occurrence.occurrence_id %>/edit">
                Edit
            </a>
        <% } %>
    </div>

    <p class="text-muted">
        <strong>Type:</strong> <%= occurrence.event_type %>
    </p>

    <div class="card mt-3 p-3">
        <p><strong>Date:</strong> 
            <%= new Date(occurrence.start_datetime).toLocaleString() %>
        </p>

        <% if (occurrence.end_datetime) { %>
            <p><strong>Ends:</strong> 
                <%= new Date(occurrence.end_datetime).toLocaleString() %>
            </p>
        <% } %>

        <p><strong>Location:</strong> <%= occurrence.location %></p>

        <% if (occurrence.capacity) { %>
            <p><strong>Capacity:</strong> <%= occurrence.capacity %></p>
        <% } %>

        <% if (occurrence.registration_deadline) { %>
            <p><strong>Registration Deadline:</strong>
                <%= new Date(occurrence.registration_deadline).toLocaleDateString() %>
            </p>
        <% } %>
    </div>

    <% if (session && session.access_level === "admin") { %>
        <form action="/eventOccurrences/<%= occurrence.occurrence_id %>/delete"
              method="POST"
              onsubmit="return confirm('Delete this event occurrence?');"
              class="mt-3">
            <button class="btn btn-danger">Delete Occurrence</button>
        </form>
    <% } %>

</div>
