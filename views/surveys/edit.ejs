<div class="page-container">

    <h1 class="page-title">Edit Survey</h1>

    <form action="/surveys/<%= survey.event_occurrence_id %>/<%= survey.participant_id %>/edit" method="POST" class="form">

        <!-- #TO-DO: create class for info box with background: #f8f9fa; padding: 1rem; border-radius: 4px; -->
        <div class="mb-2">
            <strong>Event:</strong> <%= survey.event_name %> (<%= new Date(survey.starts_at).toLocaleDateString() %>)<br>
            <strong>Participant:</strong> <%= survey.first_name %> <%= survey.last_name %>
        </div>

        <label>Satisfaction Score **(1-5)**</label>
        <input type="number" 
                name="SurveySatisfactionScore" 
                min="1" max="5" 
                value="<%= survey.satisfaction_score %>" 
                required />

        <label>Usefulness Score **(1-5)**</label>
        <input type="number" 
                name="SurveyUsefulnessScore" 
                min="1" max="5" 
                value="<%= survey.usefulness_score %>" 
                required />

        <!-- NEW FIELD: Instructor Score -->
        <label>Instructor Score **(1-5)**</label>
        <input type="number" 
                name="SurveyInstructorScore" 
                min="1" max="5" 
                value="<%= survey.instructor_score %>" 
                required />

        <label>Recommendation Score **(1-5)**</label>
        <input type="number" 
                name="SurveyRecommendationScore" 
                min="1" max="5" 
                value="<%= survey.recommendation_score %>" 
                required />

        <!-- REMOVED: Overall Score input, as it is now calculated -->

        <label>Comments</label>
        <textarea name="SurveyComments" rows="3"><%= survey.comments %></textarea>

        <label>Submission Date</label>
        <input type="date" 
                name="SurveySubmissionDate" 
                value="<%= survey.submission_date ? new Date(survey.submission_date).toISOString().split('T')[0] : '' %>" 
                required />

        <!-- #TO-DO: create class for flex container with gap: 1rem; align-items: center; -->
        <div class="d-flex mt-2">
            <button class="btn-submit">Save Changes</button>
            
            <a href="/surveys/occurrence/<%= survey.event_occurrence_id %>">Cancel</a>
        </div>

    </form>

</div>